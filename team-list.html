<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Team List - Local Save</title>
</head>
<body>
  <header>
    <h1>Local Team List with Cookies</h1>
  </header>

  <div>
    <h3>Add a Team</h3>
    <input id="team-name" placeholder="Team Name" />
    <input id="team-number" placeholder="Team Number" />
    <input id="team-ranking" placeholder="Team Ranking" />
    <button onclick="addTeam()">Add Team</button>
  </div>

  <div>
    <h3>Team List</h3>
    <table border="1">
      <thead>
        <tr>
          <th>Team Name</th>
          <th>Team Number</th>
          <th>Ranking</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody id="team-list">
        <!-- Dynamic rows here -->
      </tbody>
    </table>
  </div>

  <script>
    // Helper to save teams to cookies
    function saveToCookies(teams) {
      const cookieString = JSON.stringify(teams);
      document.cookie = `teams=${encodeURIComponent(cookieString)}; path=/; max-age=31536000`;
    }

    // Helper to load teams from cookies
    function loadFromCookies() {
      const cookies = document.cookie.split('; ');
      const teamCookie = cookies.find(cookie => cookie.startsWith('teams='));
      if (teamCookie) {
        return JSON.parse(decodeURIComponent(teamCookie.split('=')[1]));
      }
      return [];
    }

    // Function to render team rows
    function renderTeams() {
      const teamListEl = document.getElementById('team-list');
      teamListEl.innerHTML = '';
      const teams = loadFromCookies();
      teams.forEach((team, index) => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${team.name}</td>
          <td>#${team.number}</td>
          <td>${team.ranking}</td>
          <td>
            <button onclick="removeTeam(${index})">Remove</button>
          </td>
        `;
        teamListEl.appendChild(row);
      });
    }

    // Function to add a new team
    function addTeam() {
      const teamName = document.getElementById('team-name').value.trim();
      const teamNumber = document.getElementById('team-number').value.trim();
      const teamRanking = document.getElementById('team-ranking').value.trim();

      if (!teamName || !teamNumber || !teamRanking) {
        alert('Please fill in all fields.');
        return;
      }

      const newTeam = {
        name: teamName,
        number: parseInt(teamNumber, 10),
        ranking: parseInt(teamRanking, 10),
      };

      const teams = loadFromCookies();
      teams.push(newTeam);

      saveToCookies(teams);
      renderTeams();

      // Clear input fields after save
      document.getElementById('team-name').value = '';
      document.getElementById('team-number').value = '';
      document.getElementById('team-ranking').value = '';
    }

    // Function to remove a team
    function removeTeam(index) {
      const teams = loadFromCookies();
      teams.splice(index, 1); // Remove the clicked team
      saveToCookies(teams);
      renderTeams();
    }

    // Render on page load
    window.onload = renderTeams;
  </script>
</body>
</html>
